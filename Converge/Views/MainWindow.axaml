<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="https://github.com/avaloniaui/designer"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:Converge.Models"
        mc:Ignorable="d"
        x:Class="Converge.Views.MainWindow"
        Width="1280" Height="800"
        Title="Converge: Version 0.0.0 Release: 0.1 Alpha">

	<DockPanel>

		<!-- Menu Bar -->
		<Menu DockPanel.Dock="Top">
			<MenuItem Header="_File">
				<MenuItem Header="New Connection" ToolTip.Tip="Create a new SSH, RDP, or VNC connection."/>
				<MenuItem Header="Edit Connection" ToolTip.Tip="Edit the selected connection."/>
				<MenuItem Header="Connect" ToolTip.Tip="Connect to the selected host."/>
				<MenuItem Header="Disconnect" ToolTip.Tip="Disconnect the active session."/>
				<MenuItem x:Name="ChangePasswordMenuItem" Header="Change Password" ToolTip.Tip="Change you Encyption Password" Click="ChangePasswordMenuItem_Click"/>
				<Separator/>
				<MenuItem Header="Close" ToolTip.Tip="Close the application." Click="CloseApplicationMenuItem_Click"/>

			</MenuItem>
			<MenuItem Header="_Help">
				<MenuItem Header="About" ToolTip.Tip="About this application."/>
				<MenuItem Header="Help" ToolTip.Tip="View help and documentation."/>
			</MenuItem>
		</Menu>

		<!-- Toolbar -->
		<StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="4" Spacing="6">
			<Button ToolTip.Tip="Create a new connection" Click="NewConnection_Click">
				<StackPanel Orientation="Horizontal" Spacing="4">
					<TextBlock Text="🞧"/>
					<TextBlock Text="New"/>
				</StackPanel>
			</Button>
			<Button ToolTip.Tip="Edit the selected connection">
				<StackPanel Orientation="Horizontal" Spacing="4">
					<TextBlock Text="✎"/>
					<TextBlock Text="Edit"/>
				</StackPanel>
			</Button>
			<Button ToolTip.Tip="Connect to the selected host">
				<StackPanel Orientation="Horizontal" Spacing="4">
					<TextBlock Text="🔌"/>
					<TextBlock Text="Connect"/>
				</StackPanel>
			</Button>
			<Button ToolTip.Tip="Disconnect the active session">
				<StackPanel Orientation="Horizontal" Spacing="4">
					<TextBlock Text="❌"/>
					<TextBlock Text="Disconnect"/>
				</StackPanel>
			</Button>
			<Rectangle Width="16"/>
			<TextBox Width="200" Watermark="Type to filter" ToolTip.Tip="Filter the connection list"/>
		</StackPanel>

		<!-- Status Bar -->
		<Border DockPanel.Dock="Bottom" Background="#EEE" Padding="4">
			<TextBlock Text="Status Bar"/>
		</Border>
		<!-- Main Content -->
		<SplitView x:Name="MainSplitView"
				   IsPaneOpen="{Binding IsPaneOpen, Mode=TwoWay}"
				   DisplayMode="CompactInline"
				   CompactPaneLength="40"
				   OpenPaneLength="250">

			<SplitView.Pane>
				<StackPanel>
					<Button Command="{Binding TogglePaneCommand}"
							Content="☰"
							Width="32" Height="32" Margin="4"/>
					<TreeView ItemsSource="{Binding ConnectionTreeItems}" Margin="4">
						<TreeView.ItemTemplate>
							<TreeDataTemplate DataType="local:ConnectionTreeItem" ItemsSource="{Binding Children}">
								<TextBlock Text="{Binding Name}" />
							</TreeDataTemplate>
						</TreeView.ItemTemplate>
					</TreeView>

				</StackPanel>
			</SplitView.Pane>

			<SplitView.Content>
				<TabControl x:Name="Connections" Margin="4"/>
			</SplitView.Content>
			
		</SplitView>
	</DockPanel>
</Window>
